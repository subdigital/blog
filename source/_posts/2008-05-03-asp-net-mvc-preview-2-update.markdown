--- 
layout: post
title: ASP.NET MVC Preview 2 Update
date: 2008-5-3
comments: true
link: false
---
<p>I&rsquo;m upgrading <a href="http://codecampserver.org/" target="_blank">Code Camp Server</a>&nbsp;to the <a href="http://www.codeplex.com/aspnet" target="_blank">latest drop of ASP.NET MVC</a> (which is just an interim release, so you might not yet care) but I wanted to get some first hand knowledge of how the new changes work out.</p><p>I won&rsquo;t go over every change,&nbsp;because <a href="http://weblogs.asp.net/scottgu/archive/2008/04/16/asp-net-mvc-source-refresh-preview.aspx" target="_blank">The Gu has a great writeup already</a>.&nbsp; But there are a few thoughts I&rsquo;d like to share.</p><p><strong>Routing</strong></p><p>Routing is getting mature, and quick.&nbsp; The fact that we can use this in our WebForms projects is really cool.&nbsp; With routing getting more and more features, it is critical that you have extensive tests around your routes.&nbsp; Imagine that you have an application already deployed.&nbsp; A single change to the routing assembly (or the registered routes)&nbsp;can have a <em>drastic</em> effect on your application.&nbsp; Existing links could be broken, new links might not work the way you expected, and you will severly cripple your search engine ranking.</p><p>Code Camp Server definitely needs to get an exhaustive set of routing tests to verify each of our URLs is functioning properly.</p><p><strong>ActionResult</strong></p><p>Instead of having controllers directly render views or redirect to another action, they have extracted this into ActionResult classes.&nbsp; While the syntax is a bit quirky (&ldquo;return RenderView&rdquo;) this is a good design choice in my opinion.&nbsp; If C# were as flexible as Ruby, we could still have the single &ldquo;RenderView&rdquo; method call, and the last statement would actually get returned to the calling method.</p><p>Our tests for Code Camp Server will be <em>a lot cleaner</em>.&nbsp; No more test subclasses.&nbsp; A lot less mocking as well, since now you can rely on plain old Asserts on the ActionResult .</p><p>This ActionResult change never made it to ComponentController though, but it will likely be there in the next drop.</p><p>Aside from the readability hiccup with &ldquo;return&rdquo; I don&rsquo;t see any downsides to this change.&nbsp; Anybody else experience any?</p><p><strong>Validation Love from Steven Sanderson</strong></p><p>Some people wonder how to do validation, since the existing ASP.NET Validators don&rsquo;t work with ASP.NET MVC.&nbsp; I ran across this, where Steven Sanderson shows how to do <a href="http://blog.codeville.net/2008/04/30/model-based-client-side-validation-for-aspnet-mvc/" target="_blank">Model-based Client-side Validation</a> in ASP.NET MVC using Castle Validator.&nbsp; There&rsquo;s even a 6&ndash;minute screencast!&nbsp; Keep that kind of stuff coming Steve!&nbsp;</p>
