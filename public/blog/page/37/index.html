
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Fickle Bits</title>
  <meta name="author" content="Ben Scheirman">

  
  <meta name="description" content="Well my copy of Game Coding Complete, 2nd Edition&nbsp;arrived on Friday.&nbsp; I knew it was going to be good after a good recommendation by Jason &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://benscheirman.com/blog/page/37/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/ficklebits" rel="alternate" title="Fickle Bits" type="application/atom+xml">
  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-210379-10']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Fickle Bits</a></h1>
  
    <h2>You're doing it wrong.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/ficklebits" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:benscheirman.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/about-me">About Me</a></li>
  <li><a href="/speaking">Speaking</a></li>
  <li><a href="/contact">Contact</a></li>
  <li><a href="/projects">Projects</a></li>
  <!-- <li><a href="http://giggletouch.com">Giggle Touch</a></li> -->
  <!-- <li><a href="http://appkickstand.com">AppKickstand</a></li> -->
  <li><a href="/blog/archives">Archives</a></li>

</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/07/game-coding-complete-2nd-ed/">Game Coding Complete - 2nd Ed</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-07-31T00:00:00-05:00" pubdate data-updated="true">Jul 31<span>st</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/1932111913.01._AA240_SCLZZZZZZZ___.jpg"   /></p>


<p>Well my copy of Game <a href="http://www.amazon.com/exec/obidos/tg/detail/-/1932111913/104-3718722-3341501?v=glance" target="_blank">Coding Complete, 2nd Edition</a>&nbsp;arrived on Friday.&nbsp; I knew it was going to be good after a good recommendation by <a href="http://www.managed-world.com/" target="_blank">Jason Olson</a>.</p>


<p>It is now Sunday afternoon and I am about 200 pages into it.&nbsp; I am really enjoying his attention to detail on topics that are often ignored in most online resources and even&nbsp;other game programming books!</p>


<p>This book really DOES belong on your bookshelf if you enjoy game programming at all.</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/07/accessing-session-from-an-httpmodule/">Accessing Session From an HttpModule</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-07-28T00:00:00-05:00" pubdate data-updated="true">Jul 28<span>th</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Today I wanted to extend my NHibernate implementation to allow formulti-page transactions for certain operations (that I control) andkeep with the cleaner ISession-per-HttpRequest pattern for everythingelse.</p>


<p>To do that I had to modify my HttpModule to allow for this check,but I had no access to the SessionState here.&nbsp; Why is that?</p>


<p>Here’s what I was doing in my HttpModule:</p>


<p></p>


<div id="code">
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public void Init(HttpApplication application)&lt;br>&lt;br>{ &lt;br> &lt;span class="comments">//add event handlers&lt;br>&lt;/span>&nbsp;application.BeginRequest += new EventHandler(context_BeginRequest);&lt;br>&nbsp;application.EndRequest += new EventHandler(context_EndRequest); &lt;br>}</span></code></pre></td></tr></table></div></figure>
</div>


<p></p>


<p>I was creating and disconnecting my ISession object inside of thosemethods. The problem is that SessionState is not loaded until after theBeginRequest had fired and before the EndRequest had fired.(specifically it is accessibly after the AcquireRequestState event).So, changing my code to this worked:<br><br></p>


<div id="code">
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public void Init(HttpApplication application) &lt;br>{ &lt;br>application.PreRequestHandlerExecute += new EventHandler(application_PreRequestHandlerExecute); &lt;br>application.PostRequestHandlerExecute += new EventHandler(application_PostRequestHandlerExecute); &lt;br>}</span></code></pre></td></tr></table></div></figure>
</div>


<p></p>


<p>Also, I saw some people online incorrectly suggesting that oneimplement the IRequiresSessionState or IReadOnlySessionStateinterfaces, but if you read the docs, those are marker interfaces forHttpHandlers only. </p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/07/move-from-blogger-to-dasblog/">Move From Blogger to dasBlog</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-07-27T00:00:00-05:00" pubdate data-updated="true">Jul 27<span>th</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content">
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/07/blog-design/">Blog Design</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-07-27T00:00:00-05:00" pubdate data-updated="true">Jul 27<span>th</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I had my blog redesigned by Bob Yu, our lead designer at LyntonWeb.&nbsp; He&rsquo;s really sharp, and a whiz with just about any design program he gets his hands on.&nbsp; He also helped me get the css to play nice in both browsers, but we&rsquo;re still ironing out wrinkles.</p>


<p>You can check his work out at <a href="http://bpd.plantedtank.net/" target="_blank">http://bpd.plantedtank.net</a>.&nbsp; Shoot him an email if you&rsquo;d like to hire him.&nbsp; He&rsquo;s a good guy.</p>


<p>So, what do you think of my new look?</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/07/congratulations-youve-installed-dasblog/">Congratulations, You&#8217;ve Installed DasBlog!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-07-20T00:00:00-05:00" pubdate data-updated="true">Jul 20<span>th</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Be sure to visit all the options under &#8220;Configuration&#8221; in the Admin Menu Bar above. There are 16 themes to choose from, and you can also create your own.</p>


<p>        <p> </p></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/07/chinese-translations/">Chinese Translations</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-07-06T00:00:00-05:00" pubdate data-updated="true">Jul 6<span>th</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div style="clear: both;"></div>


<p>Sometimes for fun I will read a google-translated, chinese blog and giggle at the funny things that it translates.&nbsp; <br>My favorite is “My Guestbook” becomes “Abundant Guest Garden.”</p>


<p>Even funnier is Star Wars: Episode III with chinese translated subtitles…</p>


<p><a href="http://winterson.com/2005/06/episode-iii-backstroke-of-west.html">winterson.com: episode iii, the backstroke of the west</a></p>


<p><em>This is hilarious!</em></p>


<div style="clear: both; padding-bottom: 0.25em;"></div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/07/controlinjector-article-updated/">ControlInjector Article Updated</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-07-01T00:00:00-05:00" pubdate data-updated="true">Jul 1<span>st</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div style="clear:both;"></div>


<p>I updated my article on Code Project, the new Control Injector is <strong>much </strong>better and more useful than before.&nbsp; If you haven&rsquo;t yet read it, please do so and rate the article.</p>


<p>The link is on the right under <strong>My Articles</strong>.</p>


<div style="clear:both; padding-bottom: 0.25em;"></div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/06/replace-notepad-completely/">Replace Notepad Completely&#8230;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-06-30T00:00:00-05:00" pubdate data-updated="true">Jun 30<span>th</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div style="clear:both;"></div>


<p>I wonder why Microsoft doesn&#8217;t choose to update some of their <strong>most frequently used programs </strong>more often.&nbsp; I mean come on!&nbsp; When was the last time you saw an update to Solitaire for crying out loud.&nbsp; (Speaking of, there will be a new suite of card games, complete with nice gooey graphics updates, in Longhorn&hellip;.)</p>


<p>Anyway, one of those crappy programs is notepad, which I am glad to replace with something better.</p>


<p><a href="http://www.flos-freeware.ch/notepad2.html" target="_blank">Download Notepad2</a>, then run <a href="http://webdevel.blogspot.com/2004_04_01_webdevel_archive.html#108246184802912349" target="_blank">this guy&#8217;s batch file</a>&nbsp;to tell Windows to stfu and replace the notepad.exe file.</p>


<p>Now I get a decent editor to <em>View Source </em>in Internet Explorer!</p>


<div style="clear:both; padding-bottom: 0.25em;"></div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/06/lessons-learned-viewstate-server-controls-and-control-lifecycle/">Lessons Learned &#8211; ViewState, Server Controls, and Control Lifecycle.</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-06-29T00:00:00-05:00" pubdate data-updated="true">Jun 29<span>th</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Ugh, well&#8230; I finally fixed the major issue that has held up my development for 2 days now.It really boileddown to the fact that I had properties that were persisting themselveswith ViewState like this:<br><textarea name="code" language="c#" rows="8" cols="50">private const string MYNAME_KEY = &#8220;__MyName&#8221;;public string MyName{ get { return ViewState[MYNAME_KEY].ToString(); } set { ViewState[MYNAME_KEY] = value; }}</textarea><br>Which will work perfectly well as long as you don&#8217;t access this propertybefore the control&#8217;s Init event&#8230; This is what I have come up with,(and someone please correct me if I am wrong) is that ViewState isreally an IStateBag instance that is given to your control, which isdifferent for each control&#8230; This helps eliminate conflicts if I addmultiple controls on the same page&#8230; If I try to access the propertybefore this instance is created (which may be when our control is addedto the parent controls collection&#8230; I&#8217;m not yet sure of this) then Iget a brand new string, not the one that was previously persisted&#8230;.NET doesn&#8217;t give you any error or warning that this is happening,which makes it very hard to track down.<br><br>The above worked for most of myserver controls, but one in particular was giving me problems. I movedthe persistance code away from the property itself, which I think Ilike better visually anyway, and this seems to have relieved theproblem.This is how you tinker with your controls viewstate:<br><div id="code"><br></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;br>private string _myName;&lt;br>public string MyName&lt;br>{ &lt;br>get { return _myName; } &lt;br>set { _myName = value; }&lt;br>} &lt;br>&lt;br>protected override object SaveViewState()&lt;br>{ &lt;br>Pair p = new Pair(); &lt;br>p.First = this._myName; &lt;br>p.Second = base.SaveViewState(); &lt;br> &lt;br>return p;&lt;br>}&lt;br>&lt;br>protected override void LoadViewState(object savedState)&lt;br>{ &lt;br>Pair p = savedState as Pair; &lt;br>this._myName = p.First as ArrayList; &lt;br>base.LoadViewState (p.Second);&lt;br>}&lt;br></span></code></pre></td></tr></table></div></figure>


<p></div>Hopefully this might save someone a few hours of head-scratchin&#8230;. it certainly cost me a lot more than a couple headaches.<div style="clear: both; padding-bottom: 0.25em;"></div></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2005/06/server-control-page-reference/">Server Control Page Reference</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-06-27T00:00:00-05:00" pubdate data-updated="true">Jun 27<span>th</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div style="clear:both;"></div>


<p>Why does the following code generate a null reference exception?</p>


<p>&nbsp;</p>


<br /><br /><div id="code"><br />


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;br />&lt;br />public class MyServerControl : WebControl, INamingContainer&lt;br />{&lt;br /> private TextBox textbox1; &lt;br />&lt;br /> protected override CreateChildControls()&lt;br /> {&lt;br /> if(! Page.IsPostBack) &lt;br /> {&lt;br /> &lt;span class="comments">//do stuff&lt;/span>&lt;br /> }&lt;br /> }&lt;br />}</span></code></pre></td></tr></table></div></figure>


<br /></div><br />The page reference is not set. I see this sort of example all the time on the web regarding server controls. Why is it that I can not get this to work?<div style="clear:both; padding-bottom: 0.25em;"></div>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/38/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/36/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Who am I?</h1>
  <p>I&#8217;m Ben Scheirman. I make Rails &amp; iPhone apps for <a href="http://chaione.com" target="_blank">ChaiONE</a> in Houston, TX.</p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2012/07/serving-assets-from-s3-on-heroku/">Serving Assets from S3 on Heroku</a>
      </li>
    
      <li class="post">
        <a href="/2012/02/hello/">Hello, NSScreencast</a>
      </li>
    
      <li class="post">
        <a href="/2012/01/nsscreencasts/">NSScreencasts, Coming Soon</a>
      </li>
    
      <li class="post">
        <a href="/2012/01/careful-with-block-based-notification-handlers/">Careful With Block-Based Notification Handlers</a>
      </li>
    
      <li class="post">
        <a href="/2011/12/formatting-json-from-terminal/">Formatting JSON From Terminal</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("subdigital", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/subdigital" class="twitter-follow-button" data-show-count="false">Follow @subdigital</a>
  
</section>


<section>
  <h1>On Delicious</h1>
  <div id="delicious"></div>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/json/subdigital?count=3&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
  <p><a href="http://delicious.com/subdigital">My Delicious Bookmarks &raquo;</a></p>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo">
<script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '4f26d557844d525165000005');
    t.src = '//secure.gaug.es/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>


<p>
  Copyright &copy; 2012 - Ben Scheirman -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'subdigital';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
