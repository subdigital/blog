
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Fickle Bits</title>
  <meta name="author" content="Ben Scheirman">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  <link rel="canonical" href="http://benscheirman.com/blog/page/22/index.html"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="http://s3.amazonaws.com/ender-js/jeesh.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/ficklebits" rel="alternate" title="Fickle Bits" type="application/atom+xml"/>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-210379-10']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Fickle Bits</a></h1>
  
    <h2>You're doing it wrong.</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/ficklebits" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:benscheirman.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/about-me">About Me</a></li>
  <li><a href="/speaking">Speaking</a></li>
  <li><a href="/contact">Contact</a></li>
  <li><a href="http://appsites.heroku.com/giggletouch">Giggle Touch for
    iOS</a></li>
  <li><a href="/blog/archives">Archives</a></li>

</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">



  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2007/08/tsk-tsk-tsk-pny-should-be-ashamed-of-themselves/">Tsk, Tsk, Tsk - PNY Should Be Ashamed of Themselves</a></h1>
    
    
      <p class="meta">




<time datetime="2007-08-31 00:00:00 -0500" pubdate  updated >Aug 31<span>st</span>, 2007</time>


</p>
    
  </header>


  <div class="entry-content"><p>Take a look at one of my co-workers found today.&nbsp; The screenshot says it all.</p>


<p><a href="http://www.flux88.com/uploads/tsk_2Dtsk.jpg"><img src="/images/tsk_2Dtsk_thumb.jpg" alt="Tsk-tsk"  border="0"  /></a></p>


<p><em>No, I didn&rsquo;t destroy their database.&nbsp; I was about to send an email to them when I realized it was fixed.</em></p>


<p>It amazes me that a large company such as PNY would do this.&nbsp; It was probably written in Taiwan by someone who makes $4/hour, but still.&nbsp; It makes you think twice before buying PNY memory.</p>

</div>
  <footer>
    <a rel="full-article" href="/2007/08/tsk-tsk-tsk-pny-should-be-ashamed-of-themselves/">Read on &rarr;</a>
  </footer>


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2007/08/professional-xna-game-programming-review/">Professional XNA Game Programming - Review</a></h1>
    
    
      <p class="meta">




<time datetime="2007-08-30 00:00:00 -0500" pubdate  updated >Aug 30<span>th</span>, 2007</time>


</p>
    
  </header>


  <div class="entry-content"><p><img src="/images/xna_2Dbook.jpg" hspace="10"  border="0"  />I just finished reading Professional <a href="http://www.amazon.com/Professional-XNA-Game-Programming-Windows/dp/0470126779/ref=pd_bbs_sr_1/104-8400577-8532738?ie=UTF8&amp;s=books&amp;qid=1188482950&amp;sr=8-1">XNA Game Development</a> by <a href="http://abi.exdream.com/">Benjamin Nitchske</a>.&nbsp; It was my first attempt at using the XNA Framework.&nbsp; I have some experience with DirectX, as I have been tinkering with it since version 5. Most of my work has been with the Managed DirectX bits for .NET 1.1. I found it to be much easier and readable than C++, just because of the language differences.</p>


<p>XNA takes that next productivity leap and really allows you to hit the ground running.&nbsp; You start out with a game loop (complete with elapsed time already calculated for you), a graphics device already setup, and a managed content pipeline for imported models, sounds, and textures.&nbsp; Things like graphics memory getting lost when you alt-tab are already handled for you.</p>


<p>But enough about XNA, this post is a review for Benjamin&#8217;s book.&nbsp; If you haven&#8217;t heard of him before, he was the author of the first Managed DirectX game called Arena Wars, and later wrote RocketCommander. Both games are very well done and he ported RocketCommander to XNA so that you can play it on the XBOX 360. XNA Racer was also done completely by himself, which is very impressive.&nbsp; Needless to say, with all that background and expertise&#8230; I had high hopes for this book.</p>


<p>The first few chapters introduced how Benjamin approaches game development.&nbsp; He calls them &#8220;Unit Tests&#8221; but that term often implies that the tests are automated.&nbsp; His tests are basically slices of game functionality that he calls manually.&nbsp; For example he might have a unit test to verify that shadows work properly, or that a specific collision detection algorithm works.&nbsp; He is able to setup the update and render loops using anonymous methods and execute them using batch files or manually calling the unit test instead of the main game.&nbsp; I found this to be very interesting, however the code that he used to write it was somewhat ugly and unintuitive.&nbsp; I coded the Pong game following his coding style and was disappointed the whole way through it.&nbsp; While he does say that we will utilize better code for the next game, the code he wrote here was inexcusably bad. I got the game working, however new features and modifications would prove to be difficult because it is just spaghetti code.&nbsp; I swallowed my pride and told myself, &#8220;.. it will get better.&#8221;</p>


<p>So then I started to follow his next example: Breakout.&nbsp; I have built breakout before using Managed DirectX, and it was quite fun.&nbsp; I was disappointed to find out that he didn&#8217;t really <em>buid</em> the game through the book, he rather took the reader on an exploration of code already written. And he was true to his word, the code pulled a lot of functionality into &#8220;helper&#8221; classes which made them reusable.&nbsp; And yes, the code was still horrid.</p>


<p>I mentioned reusable code.&nbsp; It wasn&#8217;t reusable like you&#8217;re thinking.&nbsp; He actually tells you to copy the code from the previous game and paste it into the new game.&nbsp; I&#8217;m not kidding.&nbsp; I&#8217;m a professional developer.&nbsp; This book is called&nbsp;<em>Professional</em> XNA.&nbsp; Professionals don&#8217;t write code like that. He begins to talk about 3D programming in a way that is &#8211; while full of information &#8211; poorly organized and generally boring.&nbsp; I learned a lot in this section, but nothing I can really refer to later.&nbsp; It was more like a stream of conciousness than organized writing. </p>


<p>Let me give you a hard example of how bad the code is.&nbsp; At one point he is talking about how he handles car physics, which was very interesting.&nbsp; Then I saw the class diagram where he implemented it.&nbsp; It looked something like this: </p>


<p><img src="/images/carPhysics_2Dcrap_small.jpg" alt="CarPhysics-crap"  border="0"  /></p>


<p>What!?!? So `ChaseCamera` inherits from `CarPhysics` which in turn inherits from `Player?`&nbsp; Sounds like an object model from the Twilight Zone. This is pure junk as an object model, and is really only there because the CarPhysics object needs to know details about what the player is doing, and indeed so does the camera. But that doesn&#8217;t mean you should break all rules of OO just to achieve a hack that works.&nbsp; I was so appalled by this I almost didn&#8217;t finish the book.</p>


<p>Benjamin knows his stuff, no doubt.&nbsp; I think it&rsquo;s amazing that someone can build something as beautiful as RocketCommander or XNA Racer in less than a month <strong>by yourself</strong>.&nbsp; But I just can&rsquo;t recommend this book because of the code quality.</p>


<p>I will wrap this up by saying that I *did* enjoy the book because it got me into game programming again, but I find this type of writing almost intolerable.&nbsp; I enjoyed to learn about some nuances around XBOX 360 vs. PC versions of XNA Games, and I especially liked his Unit Testing technique. The information on Shaders was mildly useful, albeit boring. But if you&#8217;re going to be reading this book, be fore-warned that the code sucks.</p>


<p>I give it 2.5 / 5 stars. </p>

</div>
  <footer>
    <a rel="full-article" href="/2007/08/professional-xna-game-programming-review/">Read on &rarr;</a>
  </footer>


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2007/08/houstontechfest-2007-was-a-hit/">HoustonTechFest 2007 Was a Hit</a></h1>
    
    
      <p class="meta">




<time datetime="2007-08-26 00:00:00 -0500" pubdate  updated >Aug 26<span>th</span>, 2007</time>


</p>
    
  </header>


  <div class="entry-content"><p><font style="BACKGROUND-COLOR: #f4f4f4">Houston Tech Fest 2007&nbsp;was yesterday and it was an amazing success.&nbsp; Over 600 people were present and I was able to see a lot of old friends and meet some new &amp; interesting people.</font></p>


<p>I got to chill out with <a href="http://blogs.msdn.com/brada" target="_blank">Brad Abrams</a> and a few other folks from Microsoft, and it was great to meet <a href="http://codeslammer.wordpress.com/" target="_blank">Scott Bateman</a> (fellow Houston blogger and advocate of Continuous Integration).&nbsp; His talk was most excellent, he was very informative and it showed that he not only understood the concepts, but he was able to explain it all in a way that (I thought) was easily grasped by the audience.</p>


<p>Some of the other speakers included <a href="http://www.michaelazocar.com/blog" target="_blank">Mike Azocar</a>, John Cook, <a href="http://www.timrayburn.net/" target="_blank">Tim Rayburn</a> (sorry I missed your talk again Tim!), and <a href="http://aspadvice.com/blogs/davidwalker/default.aspx" target="_blank">David Walker</a>.</p>


<p>Funny thing about Tim&rsquo;s talk.&nbsp; I was in the room next door listening to David Walker talk about SOA and WCF, and we could hear Tim through the wall partition.&nbsp; At one point I heard Tim say, &ldquo;If you can&rsquo;t hear me in the back, please shout out and let me know.&rdquo;&nbsp; I felt like shouting from our room <img src="/images/smile1__________________________.gif"   />.</p>


<p>I had two sessions, Advanced CSS &amp; Javascript and ORM with NHibernate.&nbsp; In the first session, I had a full room (over 100 people!) and the audience was very engaging.&nbsp; It&rsquo;s great to have an audience that has so many questions and comments on what you are saying.&nbsp; It becomes more of a dialog, which I think makes the content so much more valuable for everyone.&nbsp; </p>


<p>Sometime in the midway point of the talk the projector just turned off.&nbsp; It&rsquo;s hard to give a talk on CSS without some visuals, so I continued typing and said &ldquo;Imagine if you wil&hellip;&rdquo; to a room full of laughter.&nbsp; About that time the projector turned on again.&nbsp; I didn&rsquo;t find out until later, but my friend Wes had sat on the cord and unplugged it, then silently plugged it back in.&nbsp; Funny how a room full of geeks and nobody thought to check the plug when it turned off.&nbsp; Ah well.</p>


<p>At the end of the talk I had a couple people come up to shake my hand and a little 4&ndash;year old girl came up, touched my arm, then ran away giggling.&nbsp; (Don&rsquo;t ask me&hellip;).&nbsp; I really enjoy giving this talk and I would like to branch outside of Houston and start giving it elsewhere around Texas (and the U.S.).</p>


<p>My second session was on NHibernate and it was more cozy, with only 15 people or so.&nbsp; I think NHibernate is a lot harder to make interesting for an intro class because it is a radically different way of developing applications that most people are exposed to.&nbsp; There is so much material to cover and only a short amount of time, so I tried to focus on the code and keep the examples short and simple.&nbsp;&nbsp;I think it was effective, though I&rsquo;d like to branch off this talk and start giving more advanced lectures on NHibernate.</p>


<p>Thanks to all who came to the event (especially my sessions!).&nbsp; I hope you all had as much fun as I did.</p>


<p>The files from my presentations can be downloaded here:</p>


<p><a href="http://www.flux88.com/uploads/AdvancedCSSAndJavascript.zip" target="_blank">File Attachment: AdvancedCSSAndJavascript.zip (1161 KB)</a></p>


<p><a href="http://www.flux88.com/uploads/nhibernate.zip" target="_blank">File Attachment: nhibernate.zip (4001 KB)</a></p>


<p>Also, a lot of people were interested in the tools I was using during my demos.&nbsp; My favorite text editor is E, which you can get at <a href="http://www.e-texteditor.com/">http://www.e-texteditor.com</a>.&nbsp; My zooming tool that I use is called <a href="http://www.microsoft.com/technet/sysinternals/Miscellaneous/ZoomIt.mspx" target="_blank">Zoomit</a>.&nbsp; My launching utility is called <a href="http://www.microsoft.com/technet/sysinternals/Miscellaneous/ZoomIt.mspx" target="_blank">Launchy</a> and it saves me so much time everyday.&nbsp; I use <a href="http://www.jetbrains.com/resharper" target="_blank">ReSharper</a> for Visual Studio nirvana (seriously, get this tool).</p>


<p>Some links I mentioned at the talks:</p>


<p><a href="http://www.csszengarden.com/">http://www.csszengarden.com</a></p>


<p><a href="http://www.exploding-boy.com/">http://www.exploding-boy.com</a></p>


<p><a href="http://www.mochikit.com/">http://www.mochikit.com</a></p>


<p><a href="http://www.prototypejs.org/">http://www.prototypejs.org</a></p>


<p>And finally, my favorite CSS book that I keep recommending to everyone:&nbsp; <a href="http://www.cssmastery.com/" target="_blank">CSS Mastery</a>.</p>

</div>
  <footer>
    <a rel="full-article" href="/2007/08/houstontechfest-2007-was-a-hit/">Read on &rarr;</a>
  </footer>


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2007/08/e-text-editor-no-such-file-exists-ubygems/">E - Text Editor - No Such File Exists &#8211; Ubygems</a></h1>
    
    
      <p class="meta">




<time datetime="2007-08-23 00:00:00 -0500" pubdate  updated >Aug 23<span>rd</span>, 2007</time>


</p>
    
  </header>


  <div class="entry-content"><p>There&#8217;s no doubt that <a href="http://www.e-texteditor.com">e</a> kicks ass.&nbsp; On one of my computers, however I was having a problem using some of the bundles.&nbsp; Specifically some of the bundles utilize <a href="http://www.cygwin.com/">cygwin</a> to do their magic.<br><br>I was receiving this weird error, where ruby is complaining that it can&#8217;t locat a file named &#8220;ubygems&#8221;.&nbsp; Obviously, they are referring to rubygems, and the problem exists when you have a windows install of ruby and a cygwin install of ruby.<br><br>To fix it you need to reinstall ruby gems within cygwin.&nbsp; Download the <a href="http://rubyforge.org/frs/?group_id=126">latest version of rubygems</a> from rubyforge.&nbsp; Put the tarball in the c:\cygwin\home\USER folder, then open up your cygwin prompt and type:<br></p>

<div><figure role=code><div class="highlight"><table cellpadding="0" cellspacing="0"><tr><td class="gutter"><pre class="line-numbers"><span class='line'>1</span>
</pre></td><td class='code' width='100%'><pre><code class=''><div class='line'>$ tar -x -f rubygems-0.9.4.tgz(this will change if you download a different version)&lt;br>$ cd rubygems-0.9.4&lt;br>$ unset RUBYOPT&lt;br>$ ruby setup.rb&lt;br>&lt;br></div></code></pre></td></tr></table></div></figure></div>


<p>At this point rubygems should be installing and you should be good to go.&nbsp; Back to &#8220;e goodness&#8221;!<br></p>

</div>
  <footer>
    <a rel="full-article" href="/2007/08/e-text-editor-no-such-file-exists-ubygems/">Read on &rarr;</a>
  </footer>


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2007/08/sogeti-is-hiring/">Sogeti Is Hiring</a></h1>
    
    
      <p class="meta">




<time datetime="2007-08-22 00:00:00 -0500" pubdate  updated >Aug 22<span>nd</span>, 2007</time>


</p>
    
  </header>


  <div class="entry-content"><p>My company, <a href="http://www.us.sogeti.com">Sogeti</a>, is always seeking out new candidates.&nbsp; If you&#8217;ve got experience or are just out of college, there is a place for you.<br><br>Currently we have an immediate need for someone to help out on a project.&nbsp; No development experience needed for this role.&nbsp; It would be a great way to get started in a BA, QA, or PM position.&nbsp;&nbsp; This position is in Houston, but I can always help pass the word to one of our other offices as well.<br><br>If you&#8217;re interested, or know of anyone who might be, please send me an email at ben.scheirman <em>AT</em> us.sogeti.com.<br><p></p></p>
</div>
  <footer>
    <a rel="full-article" href="/2007/08/sogeti-is-hiring/">Read on &rarr;</a>
  </footer>


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2007/08/elegant-asp-net-caching/">Elegant ASP.NET Caching</a></h1>
    
    
      <p class="meta">




<time datetime="2007-08-16 00:00:00 -0500" pubdate  updated >Aug 16<span>th</span>, 2007</time>


</p>
    
  </header>


  <div class="entry-content"><p>So you have a central method that returns some common data, say for example US States.</p>


<div style="FONT-SIZE: 10pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: Courier New"><p style="MARGIN: 0px"><span style="COLOR: blue">public</span> <span style="COLOR: #2b91af">IList</span>&lt;<span style="COLOR: #2b91af">State</span>&gt; GetUsStates()</p><p style="MARGIN: 0px">{</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; <span style="COLOR: #2b91af">List</span>&lt;<span style="COLOR: #2b91af">State</span>&gt; states = <span style="COLOR: blue">new</span> <span style="COLOR: #2b91af">List</span>&lt;<span style="COLOR: #2b91af">State</span>&gt;();</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; <span style="COLOR: blue">using</span>(<span style="COLOR: #2b91af">IDataReader</span> dr = <span style="COLOR: #2b91af">DataAccess</span>.ExecuteReader(<span style="COLOR: #a31515">&#8220;SELECT * FROM US_STATES&#8221;</span>))</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; {</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: #2b91af">State</span> theState = <span style="COLOR: #2b91af">State</span>.Fetch(dr);</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; states.Add(theState);</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; }</p><p style="MARGIN: 0px">&nbsp;</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; <span style="COLOR: blue">return</span> states;</p><p style="MARGIN: 0px">}</p></div>


<!--EndFragment-->


<p>Pretty simple stuff, loop over a datareader, building &ldquo;State&rdquo; objects based on a row in the database.</p>


<p>Well since this data hardly ever changes and is the same for every user, it is a prime target for caching.&nbsp; <em>(Psst, if you didn&rsquo;t know, caching can be one of the most effective performance tuning techniques you can perform &mdash; if done correctly).</em></p>


<p>Now that we want to enable caching, we can create a little helper class that makes it a bit easier to work with&hellip;</p>


<p><em>This is a watered down version of the cache API, but it solves 90% of the cases.</em></p>


<div style="FONT-SIZE: 10pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: Courier New"><p style="MARGIN: 0px"><span style="COLOR: blue">public</span> <span style="COLOR: blue">class</span> <span style="COLOR: #2b91af">CacheHelper</span></p><p style="MARGIN: 0px">{</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; <span style="COLOR: blue">public</span> <span style="COLOR: blue">static</span> <span style="COLOR: blue">bool</span> ItemExists(<span style="COLOR: blue">string</span> key)</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; {</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: blue">return</span> <span style="COLOR: #2b91af">HttpContext</span>.Current.Cache[key] != <span style="COLOR: blue">null</span>;</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; }</p><p style="MARGIN: 0px">&nbsp;</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; <span style="COLOR: blue">public</span> <span style="COLOR: blue">static</span> <span style="COLOR: blue">void</span> Insert(<span style="COLOR: blue">string</span> key, <span style="COLOR: blue">object</span> obj)</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; {</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: #2b91af">TimeSpan</span> oneHour = <span style="COLOR: blue">new</span> <span style="COLOR: #2b91af">TimeSpan</span>(1,0,0);</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Insert(key, obj, oneHour);</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; }</p><p style="MARGIN: 0px">&nbsp;</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; <span style="COLOR: blue">public</span> <span style="COLOR: blue">static</span> <span style="COLOR: blue">void</span> Insert(<span style="COLOR: blue">string</span> key, <span style="COLOR: blue">object</span> obj, <span style="COLOR: #2b91af">TimeSpan</span> span)</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; {</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: #2b91af">HttpContext</span>.Current.Cache.Add(</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; key, </p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; obj, </p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: blue">null</span>, <span style="COLOR: green">//no dependencies</span></p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: #2b91af">DateTime</span>.Now.Add(span), </p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: #2b91af">Cache</span>.NoSlidingExpiration, </p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: #2b91af">CacheItemPriority</span>.Normal, </p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: blue">null</span> <span style="COLOR: green">//no remove callback</span></p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; );</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; }</p><p style="MARGIN: 0px">&nbsp;</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; <span style="COLOR: blue">public</span> <span style="COLOR: blue">static</span> T Retrieve&lt;T&gt;(<span style="COLOR: blue">string</span> key)</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; {</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: blue">return</span> (T)<span style="COLOR: #2b91af">HttpContext</span>.Current.Cache[key];</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; }</p><p style="MARGIN: 0px">}</p></div>


<!--EndFragment-->


<p>Now that we have the utility methods in place, we can alter our US States function to enable caching:</p>


<div style="FONT-SIZE: 10pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: Courier New"><p style="MARGIN: 0px"><span style="COLOR: blue">public</span> <span style="COLOR: #2b91af">IList</span>&lt;<span style="COLOR: #2b91af">State</span>&gt; GetUsStates()</p><p style="MARGIN: 0px">{</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; <span style="COLOR: blue">string</span> statesKey = <span style="COLOR: #a31515">&#8220;US_STATES&#8221;</span>;</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; <span style="COLOR: blue">if</span> (!<span style="COLOR: #2b91af">CacheHelper</span>.ItemExists(statesKey))</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; {</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: green">//add it</span></p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: #2b91af">List</span>&lt;<span style="COLOR: #2b91af">State</span>&gt; states = <span style="COLOR: blue">new</span> <span style="COLOR: #2b91af">List</span>&lt;<span style="COLOR: #2b91af">State</span>&gt;();</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: blue">using</span> (<span style="COLOR: #2b91af">IDataReader</span> dr = <span style="COLOR: #2b91af">DataAccess</span>.ExecuteReader(<span style="COLOR: #a31515">&#8220;SELECT * FROM US_STATES&#8221;</span>))</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: #2b91af">State</span> theState = <span style="COLOR: #2b91af">State</span>.Fetch(dr);</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; states.Add(theState);</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p><p style="MARGIN: 0px">&nbsp;</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: #2b91af">CacheHelper</span>.Insert(statesKey, states);</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; }</p><p style="MARGIN: 0px">&nbsp;</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; <span style="COLOR: green">//now it definitely exists in cache</span></p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; <span style="COLOR: blue">return</span> <span style="COLOR: #2b91af">CacheHelper</span>.Retrieve&lt;<span style="COLOR: #2b91af">IList</span>&lt;<span style="COLOR: #2b91af">State</span>&gt;&gt;(statesKey);</p><p style="MARGIN: 0px">}</p></div
>


<!--EndFragment-->


<p>This code quickly gets repetetive and ugly, but it gets the job done.&nbsp; How can we do better?</p>


<p>We need to be able to provide the <em>means</em> of getting the data, but without actually executing it every time.&nbsp; This sounds like a good use for a delegate!</p>


<p>In our CacheHelper class we define the delegate:</p>


<div style="FONT-SIZE: 10pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: Courier New"><p style="MARGIN: 0px">&nbsp;<span style="COLOR: blue">public</span> <span style="COLOR: blue">delegate</span> <span style="COLOR: blue">object</span> <span style="COLOR: #2b91af">RetrieveDelegate</span>();</p></div>


<!--EndFragment-->


<p>It&rsquo;s just a method signature that returns an object.</p>


<p>Then we define another method that will first check the cache, and execute the delegate if the data is not there:</p>


<div style="FONT-SIZE: 10pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: Courier New"><p style="MARGIN: 0px"><span style="COLOR: blue">public</span> <span style="COLOR: blue">static</span> T GetAndCache(<span style="COLOR: blue">string</span> key, <span style="COLOR: #2b91af">RetrieveDelegate</span> retrieveObject, <span style="COLOR: #2b91af">TimeSpan</span> span)</p><p style="MARGIN: 0px">{</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; <span style="COLOR: blue">if</span> (!ItemExists(key))</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; {</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: blue">object</span> value = retrieveObject(); <span style="COLOR: green">//this makes the call to the database</span></p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; Insert(key, value, span);</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; }</p><p style="MARGIN: 0px">&nbsp;</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; <span style="COLOR: blue">return</span> Retrieve&lt;T&gt;(key);</p><p style="MARGIN: 0px">}</p></div>


<!--EndFragment-->


<p>Now we have a method that can be smart about caching, but it is completely agnostic of what data to cache.&nbsp; Now we can refactor our GetStates() method to this:</p>


<div style="FONT-SIZE: 10pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: Courier New"><p style="MARGIN: 0px"><span style="COLOR: blue">public</span> <span style="COLOR: #2b91af">IList</span>&lt;<span style="COLOR: #2b91af">State</span>&gt; GetUsStates()</p><p style="MARGIN: 0px">{</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; <span style="COLOR: blue">return</span> <span style="COLOR: #2b91af">CacheHelper</span>.GetAndCache&lt;<span style="COLOR: #2b91af">IList</span>&lt;<span style="COLOR: #2b91af">State</span>&gt;&gt;(</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: #a31515">&#8220;US_STATES&#8221;</span>,</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: blue">delegate</span> {</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: #2b91af">List</span>&lt;<span style="COLOR: #2b91af">State</span>&gt; states = <span style="COLOR: blue">new</span> <span style="COLOR: #2b91af">List</span>&lt;<span style="COLOR: #2b91af">State</span>&gt;();</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: blue">using</span> (<span style="COLOR: #2b91af">IDataReader</span> dr = <span style="COLOR: #2b91af">DataAccess</span>.ExecuteReader(<span style="COLOR: #a31515">&#8220;SELECT * FROM US_STATES&#8221;</span>))</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; {</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: #2b91af">State</span> theState = <span style="COLOR: #2b91af">State</span>.Fetch(dr);</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; states.Add(theState);</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: blue">return</span> states;</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; },</p><p style="MARGIN: 0px">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="COLOR: #2b91af">TimeSpan</span>.FromDays(1));</p><p style="MARGIN: 0px">}</p></div>


<!--EndFragment-->


<p>We only have to interact with the CacheHelper once, thus we only use the cache key once as well.&nbsp; There are no if statements here either.&nbsp; Just a single function call that excepts an anonymous method.</p>


<p>This is pretty clean and it makes caching in your application easier.&nbsp; What do you think?&nbsp; Do you have any ideas for improvement?&nbsp; Let&rsquo;s hear in the comments!</p>


<div class="bjtags">Tags:<a rel="tag" href="http://technorati.com/tag/ASP.NET">ASP.NET</a>, <a rel="tag" href="http://technorati.com/tag/Cache">Cache</a></div>

</div>
  <footer>
    <a rel="full-article" href="/2007/08/elegant-asp-net-caching/">Read on &rarr;</a>
  </footer>


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2007/08/see-you-at-houston-tech-fest/">See You at Houston Tech Fest</a></h1>
    
    
      <p class="meta">




<time datetime="2007-08-15 00:00:00 -0500" pubdate  updated >Aug 15<span>th</span>, 2007</time>


</p>
    
  </header>


  <div class="entry-content"><p>If you&#8217;re going to <a href="http://houstontechfest.com">HoustonTechFest</a>, then be sure to check out my presentations:<br><ul><li>Advanced CSS and Javascript</li><li>ORM with NHibernate</li></ul>It&#8217;s all going down August 25th at the University of Houston.&nbsp; See you there!<br><p></p></p>
</div>
  <footer>
    <a rel="full-article" href="/2007/08/see-you-at-houston-tech-fest/">Read on &rarr;</a>
  </footer>


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2007/08/dasblog-2-0-released/">dasBlog 2.0 Released!</a></h1>
    
    
      <p class="meta">




<time datetime="2007-08-15 00:00:00 -0500" pubdate  updated >Aug 15<span>th</span>, 2007</time>


</p>
    
  </header>


  <div class="entry-content"><p>The team has been working like mad to get this release out the door and now it’s ready!</p>


<p><a href="http://dasblog.info/">http://dasblog.info/</a></p>


<p>This is a full ASP.NET 2.0 release!&nbsp;&nbsp; Along with the new release comes a new look for the dasBlog website (designed by me).</p>


<p>Check out the release notes to see all of the great new features.</p>

</div>
  <footer>
    <a rel="full-article" href="/2007/08/dasblog-2-0-released/">Read on &rarr;</a>
  </footer>


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2007/08/blue-october-august-4th/">Blue October - August 4th</a></h1>
    
    
      <p class="meta">




<time datetime="2007-08-09 00:00:00 -0500" pubdate  updated >Aug 9<span>th</span>, 2007</time>


</p>
    
  </header>


  <div class="entry-content"><p>Me, My wife, and daughter went to go see Blue October play at the Sam Houston Race Park.&nbsp; It was my 2<sup>nd</sup> time to see the band (the first being at a venue that only held 300 people).&nbsp; There were a few thousand people there and it was really great to see how big the band has gotten.</p>


<p><em>Me and my baby at the Race Track before the concert<br></em><img src="/images/IMG_5495_small.jpg" alt="Me and my baby"  border="0" /></p>


<p><em>My 2 favorite girls…<br></em><img src="/images/IMG_5490_small.jpg" alt="IMG_5490"  border="0" /></p>


<p><em>Rocking out before the concert…<br></em><img src="/images/IMG_5509_small.jpg" alt="IMG_5509"  border="0" /></p>


<p><em>Goofing around…<br><img src="/images/IMG_5512_small.jpg" alt="IMG_5512"  border="0" /></em></p>


<p><em>No, I’m not stoned in this picture…<br><img src="/images/IMG_5551_small.jpg" alt="My JP Boodhoo Pose"  border="0" /></em></p>


<p><em>We’re Hungry…<br><img src="/images/IMG_5554_small.jpg" alt="IMG_5554"  border="0" /></em></p>


<p><em>Finally, they arrive…<br><img src="/images/IMG_5570_small.jpg" alt="IMG_5570"  border="0" /></em></p>


<p>They played mostly songs from their new album, Foiled (which is my least favorite to be honest).&nbsp; I much prefer The Answers or Consent to Treatment.</p>


<p><em><img src="/images/IMG_5603_small.jpg" alt="IMG_5603"  border="0" /></em></p>


<p><em></em>&nbsp;</p>


<p>Blue October always puts on such a great show.&nbsp; The band is full of energy and Justin’s vocals seem to never end.&nbsp; I don’t know how he does it… I was singing along all night and nearly lost my voice.&nbsp; I guess I can let go of my hopes of being a rock god <img src="http://www.flux88.com/uploads/smile1.gif">.&nbsp; Well, there’s always Guitar Hero.</p>

</div>
  <footer>
    <a rel="full-article" href="/2007/08/blue-october-august-4th/">Read on &rarr;</a>
  </footer>


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2007/08/professional-gender-transmogriphier/">Professional Gender Transmogriphier</a></h1>
    
    
      <p class="meta">




<time datetime="2007-08-08 00:00:00 -0500" pubdate  updated >Aug 8<span>th</span>, 2007</time>


</p>
    
  </header>


  <div class="entry-content"><p>The other day, my cube-mate <a href="http://pseale.com/blog" target="_blank">Peter Seale</a>, posed the following question:</p>


<blockquote>Do you ever wonder why the Experts Exchange website url has a dash in it? </blockquote>


<p>Well, no I didn&#8217;t before&#8230; but I now I am&#8230; why? (at this moment I pause for a second and think about what the url would be&#8230; )</p>


<p><strong>expertsexchange dot com</strong></p>


<p>That just might send the wrong message&#8230; whaddyathink?</p>

</div>
  <footer>
    <a rel="full-article" href="/2007/08/professional-gender-transmogriphier/">Read on &rarr;</a>
  </footer>


  </article>

<nav role="pagination">
  <div>
    
      <a class="prev" href="/blog/page/23/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/21/">Newer &rarr;</a>
    
  </div>
</nav>

<script type="text/javascript">
    var disqus_shortname = 'subdigital';
    (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

</div>
<aside role=sidebar>
  
    <section>
  <h1>Who am I?</h1>
  <p>I&#8217;m Ben Scheirman. I make Rails &amp; iPhone apps for <a href="http://chaione.com" target="_blank">ChaiONE</a> in Houston, TX.</p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2011/10/sharing-vim-configuration-between-machines/">Sharing Vim Configuration Between Machines</a>
      </li>
    
      <li class="post">
        <a href="/2011/10/making-a-uibutton-flip-over/">Making a UIButton Flip Over</a>
      </li>
    
      <li class="post">
        <a href="/2011/09/creating-a-glow-effect-for-uilabel-and-uibutton/">Creating a Glow Effect for UILabel and UIButton</a>
      </li>
    
      <li class="post">
        <a href="/2011/09/introducing-appsites/">Introducing App Sites</a>
      </li>
    
      <li class="post">
        <a href="/2011/09/firebug-style-debugging-for-ios/">Firebug-Style Visual Debugging for iOS</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("subdigital", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/subdigital" class="twitter-follow-button" data-width="208px" data-show-count="false">Follow @subdigital</a>
  
</section>


<section>
  <h1>On Delicious</h1>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/js/subdigital?title=&count=3&sort=date&extended"></script>
  <p><a href="http://delicious.com/subdigital">My Delicious Bookmarks &raquo;</a></p>
</section>



  
</aside>

    </div>
  </div>
  <footer>
<a style="display:block; float: right" title="Real Time Analytics" href="http://getclicky.com/66470389"><img alt="Real Time Analytics" src="//static.getclicky.com/media/links/badge.gif" border="0" /></a>
<script src="//static.getclicky.com/js" type="text/javascript"></script>
<script type="text/javascript">try{ clicky.init(66470389); }catch(e){}</script>
<noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/66470389ns.gif" /></p></noscript>

<p>
  Copyright &copy; 2011 - Ben Scheirman -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
</body>
</html>
