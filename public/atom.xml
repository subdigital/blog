<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title>Fickle Bits</title>
  <link href="http://benscheirman.com/atom.xml" rel="self"/>
  <link href="http://benscheirman.com/"/>
  <updated>2011-10-06T09:59:34-05:00</updated>
  <id>http://benscheirman.com/</id>
  <author>
    <name>Ben Scheirman</name>
    
  </author>

  
  <entry>
    <title>Sharing Vim Configuration Between Machines</title>
    <link href="http://benscheirman.com/2011/10/sharing-vim-configuration-between-machines/"/>
    <updated>2011-10-06T09:29:00-05:00</updated>
    <id>http://benscheirman.com/2011/10/sharing-vim-configuration-between-machines</id>
    <content type="html">&lt;p&gt;I do most of my development on my MacBook Pro, however I have a nice 27&quot;
iMac at home, and it is refreshing to use it for development when I can.
It's fast and has a huge screen.  The only downside is all my custom
development configurations are on my MacBook Pro!&lt;/p&gt;

&lt;p&gt;There are a number of options you can use to share settings between
machines, but I'm a fan of using &lt;a href=&quot;http://dropbox.com&quot;&gt;Dropbox&lt;/a&gt; (&lt;a href=&quot;http://db.tt/sYjPEQl&quot;&gt;referral link&lt;/a&gt;). Any change I make, on either machine, will get automatically
synchronized for me.&lt;/p&gt;

&lt;p&gt;Since my Vim configurations were already present on my MacBook Pro, the
first step was to copy them over to a Dropbox folder:&lt;/p&gt;

&lt;p&gt;```&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mkdir ~/Dropbox/vim
cp -R ~/.vim ~/Dropbox/vim
cp ~/.vimrc ~/Dropbox/vim
cp ~/.vimrc.local ~/Dropbox/vim
cp ~/.gvimrc ~/Dropbox/vim
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;```&lt;/p&gt;

&lt;p&gt;The next step was to come up with an installer script that would symlink
these files on a new machine.  I made sure to move existing vim files to
a temporary filename so that I wouldn't lose anything accidentally.&lt;/p&gt;

&lt;p&gt;```&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;set -o errexit

function confirm()
{
    echo -n &quot;$@ &quot;
    read -e answer
    for response in y Y yes YES Yes Sure sure SURE OK ok Ok
    do
        if [ &quot;_$answer&quot; == &quot;_$response&quot; ]
        then
            return 0
        fi
    done

    # Any answer other than the list above is considerred a &quot;no&quot; answer
    return 1
}

function link_file() 
{
  echo &quot;symlinking $1&quot;
  ln -s &quot;$PWD/$1&quot; &quot;$HOME/$1&quot;
}

echo &quot;This will remove any existing vim configuration files and simlink them with the files here.&quot;
confirm &quot;Are you sure?&quot;
if [ $? -eq 0 ]
then
  for file in ~/.vimrc ~/.vimrc.local ~/.gvimrc
  do
    if [[ -f $file ]]; then
      echo &quot;Moving $file to $file.bak&quot;
      mv $file $file.bak
    fi
  done

  for dir in ~/.vim
  do
    if [[ -d $dir ]]; then
      echo &quot;Moving $dir directory to $dir.bak&quot;
      mv $dir $dir.bak
    fi
  done
fi

echo &quot;symlinking&quot;

for file in .vim .vimrc .vimrc.local .gvimrc
do
  link_file $file
done

echo &quot;Done.  Check that it works.  If so, you can remove the .bak files, if any&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;```&lt;/p&gt;

&lt;p&gt;Make sure the script is executable by running:&lt;/p&gt;

&lt;p&gt;```&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;chmod +x setup.sh
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;```&lt;/p&gt;

&lt;p&gt;Then run this script on any new machine that you want to use Vim on. It will symlink these files from your Dropbox folder to your home
folder:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;.vim/&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;.vimrc&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;.vimrc.local&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;.gvimrc&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;After it's done, check that it is working.  Remove any .bak files that
you don't need anymore.&lt;/p&gt;

&lt;p&gt;And that's it. You have an automatic Vim configuration synching system
between machines.  It works great for your shell configuration as well!&lt;/p&gt;
</content>
  </entry>
  
</feed>
